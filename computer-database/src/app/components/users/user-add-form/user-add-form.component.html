<div class="registerbox">
    <mat-dialog-content class="mat-dialog">
        <form class="SignUpForm" [formGroup]="addUserForm">
            <div class="form-group">
                <mat-label>{{ 'USER.ROLE' | translate }} :</mat-label>
                <mat-select  [(ngModel)]="user.roles" multiple name="rolesSelected" class="select" formControlName="rolesSelected" required>
                  <mat-option class="select" *ngFor="let role of rolesPossibles" [value]="role" > {{role.name}} </mat-option>
                </mat-select>

            </div>
            <div class="form-group">
                <mat-label>{{ 'USER.USERNAME' | translate }} :</mat-label>
                <input [(ngModel)]="user.name" id="username" name="username" required="required" placeholder="{{ 'USER.USERNAME' | translate }}"
                    class="form-control mr-sm-2 home_input" formControlName="name" [ngClass]="{'is-invalid': addUserForm.get('name').hasError('required')}"/>
            </div>

            <div class="form-group">
                <mat-label>{{ 'USER.PASSWORD' | translate }} :</mat-label>
                <input [(ngModel)]="user.password" type="password" class="form-control mr-sm-2 home_input" id="password" name="password"
                    required="required" placeholder="{{ 'USER.PASSWORD' | translate }}" formControlName="password" [ngClass]="{'is-invalid': addUserForm.get('password').hasError('required')}"/>
            </div>

            <div class="form-group">
                <mat-label>{{ 'USER.CONFIRMPASSWORD' | translate }} : </mat-label>
                <input [(ngModel)]="passwordSecond" type="password" class="form-control mr-sm-2 home_input" id="passwordConfirm"
                    name="passwordConfirm" formControlName="confirmPassword" required="required" placeholder="{{ 'USER.PASSWORD' | translate }}"
                       [ngClass]="{'is-invalid': (addUserForm.errors && addUserForm.errors.noMatchingPassword) || addUserForm.get('confirmPassword').hasError('required')}"/>
              <div *ngIf="addUserForm.errors && addUserForm.errors.noMatchingPassword" class="invalid-input">{{addUserForm.errors.noMatchingPassword}}</div>
            </div>

            <br>
            <div class="inline">
              <button [disabled]="addUserForm.invalid" [mat-dialog-close]="user" class="btn btn-primary" mat-button>{{ 'USER.SUBMIT' | translate }}</button>
              <button [mat-dialog-close]="false" class="btn btn-primary" mat-button>{{ 'USER.CANCEL' | translate }}</button>
            </div>
        </form>
    </mat-dialog-content>
</div>
